<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>App for LGS</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background:#f2f2f2; }
    h1 { color: #333; }
    #ogrenciListesi { margin-top: 10px; padding-left: 20px; }
    li { margin-bottom: 5px; }
    input, button { padding: 5px 10px; margin-right:5px; }
  </style>
</head>
<body>

<h1>Ã–ÄŸrenci Takip</h1>
<input type="text" id="ogrenciAd" placeholder="Ã–ÄŸrenci adÄ±">
<button id="ekleBtn">Ekle</button>

<ul id="ogrenciListesi"></ul>

<!-- SDK scriptleri -->
<script src="_sdk/data_sdk.js"></script>
<script src="_sdk/element_sdk.js"></script>

<!-- Firebase BaÄŸlantÄ±sÄ± -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
  import { getFirestore, collection, addDoc, getDocs } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-analytics.js";

  // ðŸ”¹ Firebase config
  const firebaseConfig = {
    apiKey: "AIzaSyD0c_tWvaOD1yk7KtmKAVIbKRqNNxkV5po",
    authDomain: "appforlgs.firebaseapp.com",
    projectId: "appforlgs",
    storageBucket: "appforlgs.firebasestorage.app",
    messagingSenderId: "450937203696",
    appId: "1:450937203696:web:20b50a85b975fea8400b35",
    measurementId: "G-ZVTYPD1XX1"
  };

  // ðŸ”¹ Firebase baÅŸlat
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);
  const analytics = getAnalytics(app);

  console.log("Firebase baÄŸlandÄ±");

  // Ã–ÄŸrenci ekleme ve listeleme
  const ekleBtn = document.getElementById("ekleBtn");
  const ogrenciAdInput = document.getElementById("ogrenciAd");
  const ogrenciListesi = document.getElementById("ogrenciListesi");

  ekleBtn.addEventListener("click", async () => {
    const ad = ogrenciAdInput.value.trim();
    if (!ad) return alert("Ã–ÄŸrenci adÄ± girin!");
    await addDoc(collection(db, "ogrenciler"), { ad });
    ogrenciAdInput.value = "";
    listele();
  });

  async function listele() {
    ogrenciListesi.innerHTML = "";
    const querySnapshot = await getDocs(collection(db, "ogrenciler"));
    querySnapshot.forEach((doc) => {
      const li = document.createElement("li");
      li.textContent = doc.data().ad;
      ogrenciListesi.appendChild(li);
    });
  }

  // Sayfa yÃ¼klendiÄŸinde listeyi getir
  listele();
</script>

</body>
</html>
